# Effective Dart

과거 몇 년 동안 우리는 엄청난 양의 Dart 코드를 작성해 왔으며 잘 동작하는 것과 잘 동작하지 않는 것에 대한 많은 것을 배웠습니다. 우리는 당신이 일관되고 견고하며 또한 빠른 코드를 작성할 수 있도록 이것을 공유할 것입니다. 모든 것을 포함하는 두 가지 주제는 다음과 같습니다.

1. **일관되게 하십시오.**

    어떤 포매팅, 케이싱, 인자가 더 좋은지에 관한 것은 주관적이고 해결이 불가능합니다. 우리가 알고 있는 것은 *일관적*이게 되는 것이 객관적으로 도움을 준다는 것입니다.

    두 개의 코드 조각이 달라보인다면, 몇 가지 의미 있는 방법에서 다르기 때문에 그래야 합니다. 코드가 두드러져 당신의 눈을 사로잡을 때, 유용한 이유 때문에 그래야 합니다.
2. **간결하게 하십시오.**

    Dart는 친숙해지기 위해 설계되었습니다. 그래서 C, Java, JavaScript와 다른 언어에서 동일한 구문과 표현식을 많이 가져왔습니다.

    하지만 그러한 언어들이 제공하는 것을 개선할 여지가 많기 때문에 Dart를 만들었습니다. 우리는 문자열 보간법에서 형식 초기화까지, 당신의 의도를 더 단순하고 쉽게 표현하는 것을 돕기 위해 다양한 기능을 추가했습니다.

    어떠한 것을 말하기 위한 다양한 방법이 있다면, 가장 간결한 것을 일반적으로 택해야 합니다. 이것은 모든 프로그램을 하나의 줄에 구겨 넣는 [코드 골프](https://en.wikipedia.org/wiki/Code_golf)를 하라는 말이 아닙니다. 목표는 *경제적*이나 *난해*하지 않은 코드입니다.

## 가이드

우리는 쉬운 이해를 위해 몇 가지 분리된 페이지로 가이드라인을 쪼갰습니다.

- [스타일 가이드](https://www.dartlang.org/guides/language/effective-dart/style) : 코드를 배치하고 조직하는 규칙, 또는 적어도 [dartfmt](https://github.com/dart-lang/dart_style#readme)가 당신을 위해 다루지 않는 부분을 정의합니다. 또한 식별자의 형식을 지정합니다. 캐멀 케이스, 밑줄 사용 등이 해당됩니다.
- [문서화 가이드](https://www.dartlang.org/guides/language/effective-dart/documentation) : 주석 안에 무엇이 와야 하는지 알 필요가 있는 모든 것들을 말해줍니다. 문서화 주석과 일반적이고 평범한 코드 주석 모두에 대한 것입니다.
- [용법 가이드](https://www.dartlang.org/guides/language/effective-dart/usage) : 행동을 구현하기 위해 언어 특징을 가장 잘 사용하는 방법을 알려줍니다. 그것이 구문이나 표현식 안에 있다면 여기서 다뤄집니다.
- [디자인 가이드](https://www.dartlang.org/guides/language/effective-dart/design) : 가장 유연한 가이드이지만 가장 넓은 범위를 다룹니다. 라이브러리를 위한 일관되고 유용한 API를 설계하는 것에 대해 배워야할 것들을 다룹니다. 그것이 타입 시그니쳐나 선언에 있다면 여기서 다뤄집니다.

모든 가이드라인에 대한 링크는 [요약](https://www.dartlang.org/guides/language/effective-dart#summary-of-all-rules)을 참고하십시오.

## 가이드를 읽는 방법

각 가이드는 몇 개의 섹션으로 쪼개어져 있습니다. 섹션은 가이드라인 리스트를 포함합니다. 각 가이드라인은 이러한 단어들 중 하나로 시작합니다.

- **DO** 가이드라인은 항상 준수되어야 하는 관행을 묘사합니다. 그것을 벗어나기 위한 유효한 이유는 아마 전혀 없을 것입니다.
- **DON'T** 가이드라인은 정반대입니다. 이것들은 거의 좋은 아이디어가 아닙니다. 희망적이게도, 우리는 역사가 짧기 때문에 다른 언어들이 가지고 있는 것만큼은 가지고 있지 않습니다.
- **PREFER** 가이드라인은 준수*해야 하는* 관행입니다. 그러나 다르게 했을 때 더 말이 되는 환경이 있을 수 있습니다. 가이드라인을 무시했을 때에 대한 모든 함축적 의미를 이해하도록 하십시오.
- **AVOID** 가이드라인은 "prefer"와 대조됩니다. 하지 말아야 하나 드문 경우에 좋은 판단일 수 있습니다.
- **CONSIDER** 가이드라인은 준수해도 되고 준수하지 않아도 되는 관행입니다. 그 환경, 전례, 선호도에 따릅니다.

이는 당신이 레이스를 올바르게 묶지 않으면 경찰이 문을 두드릴 것이라는 것과 비슷하게 들립니다. 그렇게 나쁘지는 않습니다. 여기에 있는 대부분의 가이드라인은 상식적이며 우리는 모두 이성적인 사람들입니다. 목표는 항상 그렇듯이 읽기 쉽고 유지 보수하기 쉬운 코드를 작성하는 것입니다.

## 용어

가이드라인을 간결하게 유지하기 위해 우리는 다른 Dart의 구성 요소를 언급하기 위해 몇 가지 약칭을 사용할 것입니다.

- **라이브러리 멤버**는 전역 필드, 접근자, 설정자 또는 함수입니다. 기본적으로 타입이 아닌 최상위 레벨에 있는 어떠한 것입니다.
- **클래스 멤버**는 클래스 안에 있는 생성자, 필드, 접근자, 설정자, 함수 또는 연산자입니다. 클래스 멤버는 인스턴스 멤버이거나 정적 멤버이며, 추상적이거나 추상적이지 않을 수 있습니다.
- **멤버**는 라이브러리 멤버 또는 클래스 멤버를 말하빈다.
- **변수**는 일반적으로 사용될 때 전역 변수, 매개변수, 지역 변수를 말합니다. 정적 필드 또는 인스턴스 필드를 포함하지 않습니다.
- **타입**은 어떠한 이름 있는 타입 선언을 말합니다. 클래스, typedef, 또는 열거형을 말합니다.
- **프로퍼티**는 전역 변수, 접근자 (클래스 내부에 있거나 전역 수준, 인스턴스 또는 정적 접근자), 설정자 (좌측 설명과 동일), 또는 필드 (인스턴스 또는 정적)를 말합니다. 대략 어떠한 "필드와 같은" 이름 있는 구성 요소를 말합니다.

## 모든 규칙의 요약

### 스타일

#### 식별자

- **DO** 대문자 캐멀 케이스를 사용하여 타입 이름을 짓기
- **DO** 밑줄과 함께 소문자를 사용하여 라이브러리와 소스 파일의 이름을 짓기
- **DO** 밑줄과 함께 소문자를 사용하여 import 접두사의 이름을 짓기
- **DO** 소문자 캐멀 케이스를 사용하여 다른 식별자의 이름을 짓기
- **PREFER** 소문자 캐멀 케이스를 사용하여 상수의 이름을 짓기
- **DO** 단어들처럼, 두 글자보다 긴 두문자어와 약어를 대문자로 사용하기
- **DON'T** 접두사 문자를 사용하기

#### 순서

- **DO** 다른 import 이전에 "dart:" import를 위치시키기
- **DO** 관련된 import 이전에 "package:" import를 위치시키기
- **PREFER** 다른 import 이전에 서드 파티 "package:" import를 위치시키기
- **DO** 모든 import 다음에 분리된 섹션에서 export를 지정하기
- **DO** 알파벳 순서대로 섹션을 정렬하기

#### 형식

- **DO** `dartfmt`를 사용하여 코드를 포매팅하기
- **CONSIDER** 포매터에 친화된 코드로 변경하기
- **AVOID** 한 줄에 80개의 단어 이상 작성하기
- **DO** 모든 흐름 제어 구조에 중괄호 사용하기

### 문서화

#### 주석

- **DO** 주석을 문장처럼 만들기
- **DON'T** 문서화에 블록 주석을 사용하기

#### 문서화 주석

- **DO** 멤버와 타입을 문서화하기 위해 `///` 문서화 주석 사용하기
- **PREFER** 공개 API를 위한 문서화 주석 작성하기
- **CONSIDER** 라이브러리 수준의 문서화 주석 작성하기
- **CONSIDER** 비공개 API를 위한 문서화 주석 작성하기
- **DO** 한줄 요약으로 문서화 주석 시작하기
- **AVOID** 주변 문맥과의 중복
- **PREFER** 3인칭 단수 동사로 함수나 메소드 주석 시작하기
- **PREFER** 명사구로 변수, 접근자 또는 설정자 주석 시작하기
- **PREFER** 명사구로 라이브러리나 타입 주석 시작하기
- **CONSIDER** 문서화 주석에 샘플 코드 포함하기
- **DO** 범위내에 있는 식별자를 참조하기 위해 문서화 주석에 대괄호 사용하기
- **DO** 매개변수, 반환값, 예외를 설명하기 위해 산문 사용하기
- **DO** 메타데이터 표기 이전에 문서화 주석 넣기

#### 마크다운

- **AVOID** 마크다운을 지나치게 사용하기
- **AVOID** 포매팅에 HTML 사용하기
- **PREFER** 코드 블록에 backtick fence (`) 사용하기

#### 작성

- **PREFER** 간결성
- **AVOID** 명백하지 않을 때의 약어와 두문자어 사용하기
- **PREFER** 멤버 인스턴스를 언급할 때 "the" 대신 "this" 사용하기

### 용법

#### 라이브러리

- **DO** `part of` 지시에 문자열 사용하기
- **DON'T** 다른 패키지의 `src` 디렉토리 내부에 있는 라이브러리 import하기
- **PREFER** 자신의 패키지의 `lib` 디렉토리에 있는 라이브러리 import할 때 상대 경로 사용하기

#### 문자열

- **DO** 문자열 리터럴을 이어붙이기 위해 인접한 문자열 사용하기
- **PREFER** 문자열과 값을 조합하기 위해 문자열 보간법 사용하기
- **AVOID** 필요하지 않을 때 문자열 보간법에 중괄호 사용하기

#### 컬렉션

- **DO** 가능할 때 컬렉션 리터럴 사용하기
- **DON'T** 컬렉션이 비어있는지 확인하기 위해 `.length` 사용하기
- **CONSIDER** 시퀀스를 변형하기 위해 고차함수 사용하기
- **AVOID** 함수 리터럴과 함께 `Iterable.forEach()` 사용하기
- **DON'T** 결과 타입을 변경할 의도가 아닐 때 `List.from()` 사ㅛㅇ하기
- **DO** 타입으로 컬렉션을 필터링하기 위해 `whereType()` 사용하기
- **DON'T** 근처에 있는 작업이 수행될 때 `cast()` 사용하기
- **AVOID** `cast()` 사용하기

#### 함수

- **DO** 함수를 이름과 묶기 위해 함수 선언 사용하기
- **DON'T** `null`을 기본값으로 명시적으로 사용하기

#### 변수

- **DON'T** `null`로 변수를 명시적으로 초기화하기
- **AVOID** 계산할 수 있는 것을 저장하기

#### 멤버

- **DON'T** 필드를 접근자와 설정자에 불필요하게 감싸기
- **PREFER** 읽기 전용 프로퍼티를 만들기 위해 `final` 필드 사용하기
- **CONSIER** 간단한 멤버에 `=>` 사용하기
- **DON'T** 섀도잉을 피할 필요가 없을 때 `this.` 사용하기
- **DO** 가능할 때 필드의 선언과 함께 초기화히기

#### 생성자

- **DO** 가능할 때 이니셜라이징 포멀을 사용하기
- **DON'T** 이니셜라이징 포멀에 타입 표기하기
- **DO** 빈 생성자 구현부에 `{}` 대신 `;` 사용하기
- **DON'T** `new` 사용하기
- **DON'T** `const`를 중복하여 사용하기

#### 에러 처리

- **AVOID** `on`절 없이 에러 잡기
- **DON'T** `on`절 없이 잡은 에러들 버리기
- **DO** 프로그래밍적 에러에는 `Error`를 구현한 오브젝트를 던지기
- **DON'T** `Error`나 그것을 구현한 타입을 명시적으로 잡기
- **DO** 잡은 예외를 다시 던지기 위해 `rethrow` 사용하기

#### 비동기 작업

- **PREFER** raw future를 사용하기 위해 async/await 사용하기
- **DON'T** 유용한 효과가 없을 때 `async` 사용하기
- **CONSIDER** 스트림을 변형할 때 고차함수 사용하기
- **AVOID** Completer를 직접적으로 사용하기
- **DO** 타입 인자가 `Object`가 될 수 있는 `FutureOr<T>`를 명확히 할 때 `Future<T>`에 대해 검사하기

### 디자인

#### 이름

- **DO** 용어를 일관되게 사용하기
- **AVOID** 약어 사용
- **PREFER** 가장 묘사적인 명사를 마지막에 넣기
- **CONSIDER** 코드를 문장처럼 읽히게 하기
- **PREFER** 불리언이 아닌 프로퍼티나 변수에 명사구 사용하기
- **PREFER** 불리언 프로퍼티나 변수에 명령적이지 않은 동사구 사용하기
- **CONSIDER** 이름 있는 불리언 *매개변수*에 동사 생략하기
- **PREFER** 불리언 프로퍼티나 변수에 "긍정적인" 이름 사용하기
- **PREFER** 주요 목적이 사이드 이펙트인 함수나 메소드에 명령적 동사구 사용하기
- **PREFER** 함수나 메소드가 그 주요 목적이 값을 반환하는 것이라면 명사구나 명령적이지 않은 동사구 사용하기
- **CONSIDER** 실행되는 작업에 초점을 맞추고 싶다면 함수나 메소드에 명령형 동사구 사용하기
- **AVOID** `get`으로 메소드 이름을 시작하기
- **PREFER** 오브젝트의 상태를 새로운 오브젝트로 복사한다면 메소드 이름을 `to____()`와 같이 짓기
- **PREFER** 기존 오브젝트가 뒷받침하는 다른 표현을 반환한다면 메소드 이름을 `as____()`와 같이 짓기
- **AVOID** 함수나 메소드의 이름에 매개변수를 묘사하기
- **DO** 타입 매개변수의 이름을 지을 때 존재하는 연상 기호 컨벤션을 준수하기

#### 라이브러리

- **PREFER** 선언을 비공개 수준으로 하기
- **CONSIDER** 같은 라이브러리에 다양한 클래스 선언하기

#### 클래스

- **AVOID** 단순한 함수가 수행할 때 하나의 멤버를 가진 추상 클래스 정의하기
- **AVOID** 오직 정적 멤버만을 포함하는 클래스 정의하기
- **AVOID** 서브클래싱될 의도가 없는 클래스를 확장하기
- **DO** 당신의 클래스가 확장되는 것을 지원한다면 문서화하기
- **AVOID** 인터페이스가 될 의도가 없는 클래스를 구현하기
- **DO** 당신의 클래스가 인터페이스로 사용되는 것을 지원한다면 문서화하기
- **AVOID** 믹스인이 될 의도가 없는 클래스를 믹스인하기
- **DO** 당신의 클래스가 믹스인으로 사용되는 것을 지원한다면 문서화하기

#### 생성자

- **PREFER** 인스턴스를 만들기 위해 정적 메소드 대신 생성자 정의하기
- **CONSIDER** 클래스가 지원한다면 생성자를 `const`로 만들기

#### 멤버

- **PREFER** 필드와 전역 변수를 `final`로 만들기
- **DO** 개념적으로 프로퍼티에 접근하는 작업을 위해 접근자 사용하기
- **DO** 개념적으로 프로퍼티를 변경하는 작업을 위해 설정자 사용하기
- **DON'T** 접근자와 상응하지 않는 설정자 정의하기
- **AVOID** 반환형이 `bool`, `double`, `int`, `num`인 멤버에서 `null` 반환하기
- **AVOID** 유려한 인터페이스를 가능하게 하기 위해 메소드에서 `this`를 반환하기

#### 타입

- **PREFER** 타입이 명백하지 않다면 공개 수준 필드와 전역 변수에 타입 지정하기
- **CONSIDER** 타입이 명백하지 않다면 비공개 수준 필드와 전역 변수에 타입 지정하기
- **AVOID** 지역 변수 초기화에 타입 지정하기
- **AVOID** 함수 표현식에서 추론된 매개변수 타입 지정하기
- **AVOID** 제네릭 호출에서 중복된 타입 인자 사용하기
- **DO** Dart가 잘못된 타입을 추론할 때 타입 지정하기
- **PREFER** 추론이 실패하게 두는 것 대신 `dynamic`을 지정하기
- **PREFER** 함수 타입 지정에 시그니쳐 사용하기
- **DON'T** 설정자에게 반환형 지정하기
- **DON'T** 레거시 typedef 문법 사용하기
- **PREFER** typedef에 인라인 함수 타입 사용하기
- **CONSIDER** 매개변수에 함수 타입 문법 사용하기
- **DO** 어떠한 오브젝트라도 허용한다는 것을 가리키기 위해 `dynamic` 대신 `Object` 지정하기
- **DO** 값을 생상하지 않는 비동기 멤버의 반환형으로 `Future<void>` 사용하기
- **AVOID** 반환형으로 `FutuerOr<T>` 사용하기

#### 매개변수

- **AVOID** 위치 불리언 매개변수 사용하기
- **AVOID** 사용자가 앞에 있는 매개변수를 생략하기 원한다면 선택 위치 매개변수 사용하기
- **AVOID** 특별한 "인자 없음" 값을 받는 필수 매개변수 사용하기
- **DO** 범위를 받아들이기 위해 시작은 포괄적인, 끝은 배타적인 매개변수를 사용하기

#### 같음

- **DO** `==`를 재정의한다면 `hashCode` 재정의하기
- **DO** `==` 연산자가 수학적인 동등함 규칙을 준수하도록 하기
- **AVOID** 변경 가능한 클래스에 사용자 정의 동등함 정의하기
- **DON'T** 사용자 정의 `==` 연산자에서 `null` 검사하기