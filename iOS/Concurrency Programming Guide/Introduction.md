# 도입

동시성*concurrency*는 동시에 일어나는 많은 것들에 대한 개념입니다. 다중 코어 CPU의 확산, 각 프로세서의 코어 개수가 증가할 것이라는 것의 실현과 함께, 소프트웨어 개발자들은 그 이점을 취하기 위한 새로운 방법을 필요로 합니다. macOS와 iOS와 같은 운영체제가 병렬적으로 여러 개의 프로그램을 실행할 수 있는 능력을 가지고 있다 할지라도, 이러한 프로그램의 대부분은 백그라운드에서 동작하며 적은 연속적인 프로세서 타임을 요구하는 작업을 수행합니다. 사용자의 주의를 끌고 컴퓨터를 분주하게 하는 것은 현재의 포어그라운드 애플리케이션입니다. 애플리케이션이 할 일은 많으나 사용 가능한 코어의 일부분만을 점유하고 있다면, 여분의 프로세싱 리소스는 낭비되고 있는 것입니다.

과거에 애플리케이션에 동시성을 도입하는 것은 하나 또는 그 이상의 추가적인 쓰레드 생성을 요구했습니다. 불운하게도, 쓰레드 관련 코드를 작성하는 것은 도전적입니다. 쓰레드는 반드시 수동적으로 관리되어야 하는 저수준 도구입니다. 애플리케이션에 필요로 하는 최적의 쓰레드 개수는 현재 시스템 부하와 기반 하드웨어에 따라 동적으로 변경될 수 있다는 것을 고려하면, 올바른 쓰레딩 솔루션을 구현하는 것은 불가능하지는 않으나 극도로 어려워집니다. 게다가, 전형적으로 쓰레드에서 사용되는 동기화 메커니즘은 성능 향상을 보장하지 않으면서 소프트웨어 설계에 복잡성과 위험함을 더합니다.

macOS와 iOS는 동시 작업 실행을 위해 전통적으로 쓰레드 기반 시스템과 애플리케이션에서 찾아볼 수 있는 것보다 더욱 비동기적인 접근법을 채택합니다. 직접적으로 쓰레드를 생성하는 대신, 특정 작업을 정의하고 시스템이 그것을 수행하도록 하기만 하면 됩니다. 시스템이 쓰레드를 관리하게 함으로써, 애플리케이션은 날*raw* 쓰레드에서 가능하지 않았던 확장성*scalability* 수준을 얻게 됩니다. 애플리케이션 개발자들은 또한 더 단순하고 능률적인 프로그래밍 모델을 얻게 됩니다.

이 문서는 애플리케이션에 동시성을 구현하기 위해 사용할만한 테크닉과 기술을 기술합니다. 이 문서에 기술되는 기술은 macOS와 iOS 모두에서 사용 가능합니다.

## 구성

이 문서는 다음의 챕터로 구성되어 있습니다.

- **동시성 및 애플리케이션 설계**는 비동기 애플리케이션 설계의 기본과 커스텀 작업을 비동기적으로 수행하기 위한 기술을 소개합니다.
- **Operation Queue**는 Objective-C 오브젝트를 사용하여 작업을 캡슐화하고 수행하는 방법을 보여줍니다.
- **Dispatch Queue**는 C 기반 애플리케이션에서 동시에 작업을 수행하기 위한 방법을 보여줍니다.
- **Dispatch Source**는 시스템 이벤트를 비동기적으로 처리하는 방법을 보여줍니다.
- **Migrating Away from Threads**는 존재하는 쓰레드 기반 코드를 새로운 기술을 사용하여 마이그레이션하기 위한 팁과 기술을 제공합니다.

이 문서는 또한 관련 용어를 정의하는 용어 사전을 포함합니다.

## 전문 용어에 대해 일러두기

동시성에 대한 논의에 들어가기 전에, 혼란을 방지하기 위해 몇몇 관련 전문 용어를 정의하는 것은 필수적입니다. UNIX 시스템이나 이전의 macOS 기술에 더 익숙한 개발자들은 이 문서에서는 약간 다르게 사용되는 "작업*task*", "프로세스*process*", "쓰레드*thread*"와 같은 용어를 발견할 것입니다. 이 문서는 다음의 방식으로 이러한 용어들을 사용합니다.

- **쓰레드**는  코드 실행의 개별적인 길목을 언급할 때 사용됩니다. macOS에서의 쓰레드 구현의 기반은 POSIX 쓰레드 API에 기반합니다.
- **프로세스**는 여러 개의 쓰레드로 감쌀 수 있는, 실행 중인 것을 언급할 때 사용됩니다.
- **작업**은 수행될 필요가 있는 작업의 추상적 개념을 언급할 때 사용됩니다.

용어 사전에서 이 문서에서 사용되는 주요 용어와 다른 것들에 대한 정의를 확인하십시오.

## 함께 참고하기

이 문서는 애플리케이션에서 동시성을 구현하기 위해 선호되는 기술에 초점을 맞추고 있으며, 쓰레드의 사용에 대해 다루지 않습니다. 쓰레드 사용이나 쓰레드와 관련된 다른 기술에 대한 정보가 필요하다면, 쓰레딩 프로그래밍 가이드를 참고하십시오. 