# Instruments

DTrace의 상단에 위치한 GUI

프로파일링 툴

> Instruments is **not** just "nice-to-have"
>
> 앱을 배포하기 전 프로파일링하는 것은 필수적으로 이루어져야 한다.

## CPU 관련

### Activity Monitor

- CPU 메모리 디스크 / 프로세스와 파일 시스템의 네트워크 사용 통계
  - 시스템 내에서 일어나는 것들의 일반적인 통계
- 자세한 정보보다는, 하이 레벨의 정보를 보여줌
  - 프로세스 이름
  - CPU 사용량
  - 스레드 개수 및 메모리

### Time Profiler

CPU와 관련 있음

- 옵션에서 Hide System Libraries에 체크하여 우리가 작성한 코드에 대한 정보만 표시하게 할 수 있음
- 작업에 대해 코드 수준으로 들어가 어떠한 코드가 CPU를 많이 점유하고 있는지 알 수 있음
- 알고리즘적으로 수정을 가능하게 함

## 메모리 관련

### Allocations

- 프로그램 안에서 다양한 시간에 얼마나 많은 메모리가 할당되는지 확인
- 메모리 사용량 확인 가능

### Leaks

- 메모리 누수 확인 가능
- Cycle & Roots 탭에서 시각적으로 메모리 순환 등을 확인할 수 있음
- 가능한 경우 타당하다면 값 타입 (구조체 등)을 사용하기
  - 참조 타입이 필요 없다면 값 타입 사용하기