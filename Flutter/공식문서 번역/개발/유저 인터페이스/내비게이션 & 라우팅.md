# [새로운 화면 앞뒤로 이동하기](https://flutter.io/docs/cookbook/navigation/navigation-basics)

대부분의 앱은 다른 타입의 정보를 표시하기 위해 여러 개의 화면을 포함합니다. 예를 들어 제품을 보여주는 화면을 가질 수 있을 것입니다. 그렇다면 사용자는 제품을 탭하여 새로운 화면에서 그것에 대한 더 많은 정보를 얻을 수 있을 것입니다.

화면은 안드로이드의 용어로 새로운 Activity일 것이며, iOS의 용어로 새로운 ViewController일 것입니다. Flutter에서 화면은 단지 Widget일 뿐입니다!

그러면 어떻게 새로운 화면으로 내비게이션할 수 있습니까? [Navigator](https://docs.flutter.io/flutter/widgets/Navigator-class.html)를 사용하십시오!

## 목표

1. 두 개의 화면 생성하기
2. `Navigator.push`를 사용하여 두 번째 화면으로 내비게이션하기
3. `Navigator.pop`을 사용하여 첫 번째 화면으로 돌아오기

## 1. 두 개의 화면 생성하기

먼저 함께 작동할 두 개의 화면이 필요합니다. 이것은 기본적인 예제이기 때문에 각각 하나의 버튼을 포함하는 두 개의 화면을 생성할 것입니다. 첫 번째 화면에서 버튼을 눌러 두 번째 화면으로 이동할 것입니다. 두 번째 화면에서 버튼을 눌러 첫 번째 화면으로 되돌아올 것입니다!

먼저 시각적 구조를 설정할 것입니다.

```dart
class FirstScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('First Screen'),
      ),
      body: Center(
        child: RaisedButton(
          child: Text('Launch screen'),
          onPressed: () {
            // 탭하면 두 번째 화면으로 내비게이션하기
          },
        ),
      ),
    );
  }
}

class SecondScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("Second Screen"),
      ),
      body: Center(
        child: RaisedButton(
          onPressed: () {
            // 탭하면 첫 번째 화면으로 돌아가기
          },
          child: Text('Go back!'),
        ),
      ),
    );
  }
}
```

## 2. `Navigator.push`를 사용하여 두 번째 화면으로 내비게이션하기

새로운 화면으로 Navigate하기 위해 [Navigator.push](https://docs.flutter.io/flutter/widgets/Navigator/push.html) 메소드를 사용할 필요가 있을 것입니다. `push` 메소드는 Navigator에 의해 관리되는 루트의 스택에 `Route`를 추가할 것입니다!

`push` 메소드는 `Route`를 필요로 합니다. 하지만 `Route`는 어디에서 비롯된 것입니까? 우리들이 만들 수도 있고, 박스 바깥에서 [MaterialPageRoute](https://docs.flutter.io/flutter/material/MaterialPageRoute-class.html)를 사용하여 만들 수 있습니다. `MaterialPageRoute`는 플랫폼에 특화된 애니메이션을 사용하여 새로운 화면으로 변하기 때문에 사용하기 좋습니다.

`FirstScreen` Widget에 있는 `build` 메소드에서 `onPressed` 콜백을 업데이트할 것입니다.

```dart
// FirstScreen 위젯 내부
onPressed: () {
  Navigator.push(
    context,
    MaterialPageRoute(builder: (context) => SecondScreen()),
  );
}
```

## 3. `Navigator.pop`을 사용하여 첫 번째 화면으로 돌아오기

이제 우리는 두 번째 화면에 있습니다. 어떻게 그것을 닫고 첫 번째 화면으로 돌아올 수 있습니까? [Navigator.pop]() 메소드를 사용하십시오! `pop` 메소드는 Navigator에 의해 관리되는 루트의 스택에서 현재 `Route`를 제거할 것입니다.

이 부분을 위해 `SecondScreen` Widget에 있는 `onPressed` 콜백을 업데이트할 필요가 있을 것입니다.

```dart
// SecondScreen 위젯 내부
onPressed: () {
  Navigator.pop(context);
}
```

## 완전한 예제

```dart
import 'package:flutter/material.dart';

void main() {
  runApp(MaterialApp(
    title: 'Navigation Basics',
    home: FirstScreen(),
  ));
}

class FirstScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('First Screen'),
      ),
      body: Center(
        child: RaisedButton(
          child: Text('Launch screen'),
          onPressed: () {
            Navigator.push(
              context,
              MaterialPageRoute(builder: (context) => SecondScreen()),
            );
          },
        ),
      ),
    );
  }
}

class SecondScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("Second Screen"),
      ),
      body: Center(
        child: RaisedButton(
          onPressed: () {
            Navigator.pop(context);
          },
          child: Text('Go back!'),
        ),
      ),
    );
  }
}
```

![image](https://flutter.io/images/cookbook/navigation-basics.gif)

---

# [새로운 화면에 데이터 전달하기](https://flutter.io/docs/cookbook/navigation/passing-data)

종종 우리는 새로운 화면으로 내비게이션하는 것뿐만 아니라 몇몇 데이터도 넘겨주는 것을 원합니다. 예를 들어 종종 탭한 아이템에 대한 정보를 넘겨주기를 원합니다.

기억하십시오. 화면은 단지 위젯일 뿐입니다*Screens are Just Widgets™*. 이 예제에서 우리는 할일 리스트를 만들 것입니다. 할일 목록을 탭하면 할일에 대한 정보를 표시하는 새로운 화면(Widget)으로 내비게이션할 것입니다.

## 목표

1. Todo 클래스 정의하기
2. Todo 리스트 표시하기
3. 할일에 대한 정보를 표시할 수 있는 Detail Screen 만들기
4. Detail Screen으로 이동하고 데이터를 넘겨주기

## 1. Todo 클래스 정의하기

먼저 Todo를 나타내기 위한 간단한 방법이 필요할 것입니다. 이 예제에서 title와 description, 두 가지 데이터를 포함하는 클래스를 만들 것입니다.

```dart
class Todo {
  final String title;
  final String description;

  Todo(this.title, this.description);
}
```

## 2. Todo 리스트 만들기

두번째로 우리는 Todo 리스트를 표시하기를 원할 것입니다. 이 예제에서는 ListView를 사용하여 20개의 할일을 생성하고 보여줄 것입니다. List와 작업하는 것에 대한 더 많은 정보는 [Basic List](https://flutter.io/docs/cookbook/lists/basic-list/) 레시피를 참고하길 바랍니다.

### Todo 리스트 생성하기

```dart
final todos = List<Todo>.generate(
  20,
  (i) => Todo(
        'Todo $i',
        'A description of what needs to be done for Todo $i',
      ),
);
```

### ListView를 사용하여 Todo 리스트 표시하기

```dart
ListView.builder(
  itemCount: todos.length,
  itemBuilder: (context, index) {
    return ListTile(
      title: Text(todos[index].title),
    );
  },
);
```

좋습니다. 20개의 할일을 생성하여 ListView에 표시할 것입니다!

## 3. 할일에 대한 정보를 표시할 수 있는 Detail Screen 만들기

이제 우리는 두 번째 화면을 만들 것입니다. 화면의 타이틀은 할일의 title을 포함하며, 화면의 바디는 description을 보여줄 것입니다.

그것이 일반적인 `StatelessWidget`이기 때문에 Screen을 만드는 사용자가 `Todo`를 넘겨주는 것만을 필요로 하면 될 것입니다. 그리고 나서 주어진 Todo를 사용하여 UI를 만들 것이빈다.

```dart
class DetailScreen extends StatelessWidget {
  // Todo를 가지는 필드 선언
  final Todo todo;

  // 생성자에서 Todo는 필수로 요구됨
  DetailScreen({Key key, @required this.todo}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    // UI를 만들기 위해 Todo를 사용
    return Scaffold(
      appBar: AppBar(
        title: Text("${todo.title}"),
      ),
      body: Padding(
        padding: EdgeInsets.all(16.0),
        child: Text('${todo.description}'),
      ),
    );
  }
}
```

## 4. Detail Screen으로 이동하고 데이터를 넘겨주기

`DetailScreen`이 있으니 Navigation을 수행할 준비가 되었습니다! 우리의 경우에는 사용자가 List에 있는 Todo를 탭할 때 `DetailScreen`으로 Navigate하기를 원할 것입니다. 그렇게 할 때 또한 `DetailScreen`에 Todo를 넘기기를 원할 것입니다.

이를 달성하기 위해 `ListTile` 위젯을 위한 [onTap](https://docs.flutter.io/flutter/material/ListTile/onTap.html) 콜백을 작성할 것입니다. `onTap` 콜백 안에서 다시 한번 [Navigation.push](https://docs.flutter.io/flutter/widgets/Navigator/push.html) 메소드를 사용할 것입니다.

```dart
ListView.builder(
  itemCount: todos.length,
  itemBuilder: (context, index) {
    return ListTile(
      title: Text(todos[index].title),
      // 사용자가 ListTile을 탭할 때 DetailScreen으로 내비게이션
      // DetailScreen을 생성할 뿐만 아니라 현재의 할일도 념겨주고 있음에 주목하십시오!
      onTap: () {
        Navigator.push(
          context,
          MaterialPageRoute(
            builder: (context) => DetailScreen(todo: todos[index]),
          ),
        );
      },
    );
  },
);
```

## 완전한 예제

```dart
import 'package:flutter/foundation.dart';
import 'package:flutter/material.dart';

class Todo {
  final String title;
  final String description;

  Todo(this.title, this.description);
}

void main() {
  runApp(MaterialApp(
    title: 'Passing Data',
    home: TodosScreen(
      todos: List.generate(
        20,
        (i) => Todo(
              'Todo $i',
              'A description of what needs to be done for Todo $i',
            ),
      ),
    ),
  ));
}

class TodosScreen extends StatelessWidget {
  final List<Todo> todos;

  TodosScreen({Key key, @required this.todos}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Todos'),
      ),
      body: ListView.builder(
        itemCount: todos.length,
        itemBuilder: (context, index) {
          return ListTile(
            title: Text(todos[index].title),
            // 사용자가 ListTile을 탭할 때 DetailScreen으로 내비게이션
            // DetailScreen을 생성할 뿐만 아니라 현재의 할일도 념겨주고 있음에 주목하십시오!
            onTap: () {
              Navigator.push(
                context,
                MaterialPageRoute(
                  builder: (context) => DetailScreen(todo: todos[index]),
                ),
              );
            },
          );
        },
      ),
    );
  }
}

class DetailScreen extends StatelessWidget {
  // Todo를 가지는 필드 선언
  final Todo todo;

  // 생성자에서 Todo는 필수로 요구됨
  DetailScreen({Key key, @required this.todo}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    // UI를 만들기 위해 Todo를 사용
    return Scaffold(
      appBar: AppBar(
        title: Text("${todo.title}"),
      ),
      body: Padding(
        padding: EdgeInsets.all(16.0),
        child: Text('${todo.description}'),
      ),
    );
  }
}
```

![image2](https://flutter.io/images/cookbook/passing-data.gif)

# [화면에서 데이터 반환하기](https://flutter.io/docs/cookbook/navigation/returning-data)

# [이름 지어진 루트와 함께 내비게이션하기](https://flutter.io/docs/cookbook/navigation/named-routes)

# [화면 간에 위젯 애니메이션하기](https://flutter.io/docs/cookbook/navigation/hero-animations)